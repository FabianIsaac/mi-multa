{"version":3,"sources":["config.js","components/AlertComponent.js","components/MultaModalComponent.js","components/MultaCreateModalComponent.js","components/MultaTableComponent.js","layout/BasicLayoutComponent.js","index.js"],"names":["Config","server","forwardRef","React","useImperativeHandle","AlertComponent","props","ref","useState","showAlert","setShowAlert","text","setText","mostarAlert","_text","setTimeout","role","className","MultaModalComponent","childRef","useRef","modalShow","setModalShow","multa","setMulta","color","setColor","inputValue","setInputValue","openModal","_multa","registro_de_multas_impagas","pagarMulta","a","url","patente","fetch","method","headers","body","JSON","stringify","valor","resp","ok","json","data","recargarTabla","current","errorMessage","cursarMulta","id","style","fontFamily","vehiculo","valor_permiso","interes_y_reajuste","subtotal","htmlFor","title","type","value","onChange","e","target","placeholder","onClick","MultaCreateModalComponent","modelos","setModelos","modeloId","setModeloId","setPatente","valorPermiso","setValorPermiso","reajuste","setReajuste","setSubtotal","useEffect","obtenerModelos","actualizarSubTotal","crearRegistro","modelo","find","resetCampos","error","last_error","map","onBlur","isNaN","parseInt","length","MultaTableComponent","tablaRef","recargar","getMultas","console","log","childRef2","multas","setMultas","scope","bg","BasicLayoutComponent","children","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.32785124.chunk.js","sourcesContent":["const Config = {\r\n    server: 'http://localhost:8000'\r\n}\r\n\r\nexport default Config;","import React, { useState } from 'react';\r\n\r\nconst { forwardRef, useImperativeHandle } = React;\r\n\r\nexport const AlertComponent = forwardRef((props, ref) => {\r\n\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    const [text, setText] = useState('');\r\n\r\n    useImperativeHandle(ref, () => ({\r\n\r\n        mostarAlert(_text) {\r\n            setShowAlert(true);\r\n            setText(_text);\r\n            setTimeout(() => {\r\n                setShowAlert(false);\r\n            }, 5000);\r\n        }\r\n\r\n    }));\r\n\r\n    return (\r\n\r\n        <div role=\"alert\" className={showAlert ? \"fixed z-40 xl:w-2/12 mx-auto sm:mx-0 sm:w-2/3 md:w-3/5 justify-between w-11/12 bg-gray-300 shadow-lg rounded flex sm:flex-row flex-col left-0 sm:left-auto dark:bg-gray-800 right-0 sm:top-0 sm:mr-6 mt-16 sm:mt-6 mb-6 sm:mb-0 transition duration-150 ease-in-out translate-show\" : \"translate-hide\"}>\r\n            <div className=\"flex flex-col justify-center px-4 sm:px-2 xl:pl-4 pt-4 sm:pb-4 ml-2\">\r\n                <p className=\"text-sm dark:text-gray-400 font-bold\">{text}</p>\r\n            </div>\r\n            <style>\r\n                {`\r\n                .translate-show{\r\n                    transform : translateX(0%);\r\n                }\r\n                .translate-hide{\r\n                    transform : translateX(150%);\r\n                }\r\n                `}\r\n            </style>{\" \"}\r\n        </div>\r\n\r\n    )\r\n});\r\n","import React, { useState, useRef } from \"react\";\r\nimport Config from '../config';\r\nimport { AlertComponent } from \"./AlertComponent\";\r\n\r\n\r\nconst { forwardRef, useImperativeHandle } = React;\r\n\r\nexport const MultaModalComponent = forwardRef((props, ref) => {\r\n\r\n  const childRef = useRef();\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [multa, setMulta] = useState();\r\n  const [color, setColor] = useState();\r\n  const [inputValue, setInputValue] = useState('');\r\n\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    openModal(_multa) {\r\n      setModalShow(true);\r\n      setMulta(_multa);\r\n      setColor(_multa.registro_de_multas_impagas === 0 ? '' : 'bg-red-600 px-2 py-1 my-2 text-white rounded-md');\r\n    }\r\n\r\n  }));\r\n\r\n  const pagarMulta = async () => {\r\n    //NOTA: Seria bueno haber hecho validaciones en frontal pero como ya se han hecho en brack, solo \r\n    const url = `${Config.server}/multas/${multa.patente}/pagar`;\r\n    const resp = await fetch(url, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        valor: inputValue\r\n      })\r\n    });\r\n    \r\n    if(resp.ok){\r\n      const { data } = await resp.json();\r\n      setMulta(data);\r\n      setInputValue('');\r\n      setColor(data.registro_de_multas_impagas === 0 ? '' : 'bg-red-600 px-2 py-1 my-2 text-white rounded-md');\r\n      props.recargarTabla();\r\n      childRef.current.mostarAlert('Pago realizado correctamente');\r\n    } else {\r\n      const { errorMessage } = await resp.json();\r\n      childRef.current.mostarAlert(errorMessage.valor? errorMessage.valor : errorMessage);\r\n    }\r\n  }\r\n\r\n  const cursarMulta = async () => {\r\n    const url = `${Config.server}/multas/${multa.patente}/cursar`;\r\n    const resp = await fetch(url, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        valor: inputValue\r\n      })\r\n    });\r\n    \r\n    if(resp.ok){\r\n      const { data } = await resp.json();\r\n      setMulta(data);\r\n      setInputValue('');\r\n      setColor(data.registro_de_multas_impagas === 0 ? '' : 'bg-red-600 px-2 py-1 my-2 text-white rounded-md');\r\n      props.recargarTabla();\r\n      childRef.current.mostarAlert('Multa cursada correctamente');\r\n    } else {\r\n      const { errorMessage } = await resp.json();\r\n      \r\n      childRef.current.mostarAlert(errorMessage.valor? errorMessage.valor : errorMessage);\r\n    }\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    setInputValue(e.target.value);\r\n  }\r\n\r\n  return (\r\n\r\n    <>\r\n      <AlertComponent ref={childRef}></AlertComponent>\r\n      {\r\n        modalShow && (\r\n          <div>\r\n            <div className=\"py-12 bg-gray-700 opacity-20 transition duration-150 ease-in-out z-10 fixed top-0 right-0 bottom-0 left-0 overflow-hidden\"></div>\r\n            <div className=\"py-12 transition duration-150 ease-in-out z-10 fixed top-0 right-0 bottom-0 left-0 overflow-hidden\" id=\"modal\">\r\n              <div role=\"alert\" className=\"container mx-auto w-11/12 md:w-7/12 max-w-lg\">\r\n                <div className=\"relative py-8 px-5 md:px-10 bg-white shadow-md rounded border border-gray-400\">\r\n                  <div className=\"w-full flex items-center text-green-400 mb-3\">\r\n                    <h1 className=\"text-gray-800 font-lg font-bold tracking-normal leading-tight uppercase\">Datos multa patente: {multa.patente}</h1>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center\" style={{ fontFamily: '\"Lato\", sans-serif' }}>\r\n\r\n\r\n                    <div className=\"flex flex-col py-8 px-4\">\r\n\r\n                      <div className=\"flex flex-col mb-2\">\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm font-extrabold leading-tight tracking-normal mb-2\">{multa.vehiculo}</span>\r\n\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm leading-tight tracking-normal mb-2\">Valor permiso: ${multa.valor_permiso}</span>\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm leading-tight tracking-normal mb-2\">Intereses y reajustes: ${multa.interes_y_reajuste}</span>\r\n\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm leading-tight tracking-normal mb-2\">Multas impagas: <span className={color}>${multa.registro_de_multas_impagas}</span></span>\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-col mb-2\">\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm font-bold leading-tight tracking-normal mb-2\">Total a pagar: ${multa.subtotal}</span>\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-col mb-2\">\r\n                        <label htmlFor=\"valor\" className=\"text-gray-800 dark:text-gray-100 text-sm font-bold leading-tight tracking-normal mb-2\">\r\n                          Valor\r\n                          {\r\n                            \r\n                          }\r\n                          <span className=\"ml-2 p-1 rounded-full hover:text-white bg-blue-100 hover:bg-blue-500\" title=\"Ingrese un monto y luego haga click en el botón pagar o multar. Puede pagar el total de la deuda o solo una fracción, en caso de pagar parte, se descontara primero el interés y reajuste luego se descontara lamulta y al final se descontara el permiso\">?</span>\r\n                        </label>\r\n                        <input id=\"valor\" type=\"text\" value={inputValue} onChange={handleInputChange} className=\"text-gray-600 dark:text-gray-400 focus:outline-none focus:border focus:border-blue-700 dark:focus:border-blue-700 dark:border-gray-700 dark:bg-gray-800 bg-white font-normal w-64 h-10 flex items-center pl-3 text-sm border-gray-300 rounded border shadow\" placeholder=\"Ingrese el monto\" />\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n                  <div className=\"flex items-center w-full\">\r\n                    \r\n                    <button onClick={pagarMulta} className=\"focus:outline-none transition duration-150 ease-in-out hover:bg-blue-600 bg-blue-700 rounded text-white px-8 py-2 text-xs sm:text-sm\">Pagar</button>\r\n                    <button onClick={cursarMulta} className=\"focus:outline-none ml-3 transition duration-150 ease-in-out hover:bg-red-600 bg-red-700 rounded text-white px-8 py-2 text-xs sm:text-sm\">Multar</button>\r\n                    <button className=\"focus:outline-none ml-3 bg-gray-100 transition duration-150 text-gray-600 ease-in-out hover:border-gray-400 hover:bg-gray-300 border rounded px-4 sm:px-8 py-2 text-xs sm:text-sm\" onClick={() => { setModalShow(false) }}>Cancelar</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n    </>\r\n\r\n  );\r\n});","import React, { useState, useRef, useEffect } from \"react\";\r\nimport Config from '../config';\r\nimport { AlertComponent } from \"./AlertComponent\";\r\n\r\nconst { forwardRef, useImperativeHandle } = React;\r\n\r\nexport const MultaCreateModalComponent = forwardRef((props, ref) => {\r\n\r\n  const childRef = useRef();\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [modelos, setModelos] = useState();\r\n  const [modeloId, setModeloId] = useState(0)\r\n  const [patente, setPatente] = useState('');\r\n\r\n  const [valorPermiso, setValorPermiso] = useState(0);\r\n  const [reajuste, setReajuste] = useState(0)\r\n  const [multa, setMulta] = useState(0)\r\n  const [subtotal, setSubtotal] = useState(0);\r\n\r\n\r\n  useImperativeHandle(ref, () => ({\r\n\r\n    openModal() {\r\n      setModalShow(true);\r\n    }\r\n\r\n  }));\r\n\r\n  useEffect(() => {\r\n    obtenerModelos();\r\n\r\n  }, []);\r\n\r\n  const actualizarSubTotal = () => {\r\n    setSubtotal(valorPermiso + multa + reajuste);\r\n  }\r\n\r\n  const obtenerModelos = async () => {\r\n    const url = `${Config.server}/modelos`;\r\n    const resp = await fetch(url,);\r\n\r\n    if (resp.ok) {\r\n      const { data } = await resp.json();\r\n      setModelos(data);\r\n\r\n    } else {\r\n      const { errorMessage } = await resp.json();\r\n      childRef.current.mostarAlert(errorMessage.valor ? errorMessage.valor : errorMessage);\r\n    }\r\n  }\r\n\r\n  const handleChangeOption = (e) => {\r\n    setModeloId(e.target.value);\r\n    if (e.target.value != '--') {\r\n      const modelo = modelos.find(modelo => modelo.id == e.target.value);\r\n      setValorPermiso(modelo.valor_permiso);\r\n      setSubtotal(modelo.valor_permiso + multa + reajuste);\r\n\r\n    } else {\r\n      setValorPermiso(0);\r\n      setSubtotal(0 + multa + reajuste);\r\n    }\r\n  }\r\n\r\n  const handlePatente = (e) => {\r\n    setPatente(e.target.value);\r\n  }\r\n\r\n  const handleReajuste = (e) => {\r\n\r\n    if (!isNaN(parseInt(e.target.value))) {\r\n      setReajuste(parseInt(e.target.value));\r\n    } else if (e.target.value.length == 0) {\r\n      setReajuste(0);\r\n    }\r\n\r\n  }\r\n\r\n  const handleMulta = (e) => {\r\n    if (!isNaN(parseInt(e.target.value))) {\r\n      setMulta(parseInt(e.target.value));\r\n    } else if (e.target.value.length == 0) {\r\n      setMulta(0);\r\n    }\r\n  }\r\n\r\n  const crearRegistro = async () => {\r\n    \r\n    if(modeloId == 0 || modeloId == '--'){\r\n      childRef.current.mostarAlert('Seleccione un modelo');\r\n      return;\r\n    }\r\n\r\n    const modelo = modelos.find(modelo => modelo.id == modeloId);\r\n\r\n    const url = `${Config.server}/multas`;\r\n    const resp = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        patente: patente,\r\n        vehiculo: modelo.id,\r\n        interes_y_reajuste: reajuste,\r\n        registro_de_multas_impagas: multa,\r\n        subtotal: subtotal\r\n      })\r\n    });\r\n\r\n    if (resp.ok) {\r\n      \r\n      childRef.current.mostarAlert('Registro creado correctamente');\r\n      props.recargarTabla();\r\n      resetCampos();\r\n    } else {\r\n      const { errorMessage } = await resp.json();\r\n      let last_error = '';\r\n      for (const error in errorMessage) {\r\n        last_error = errorMessage[error];\r\n      }\r\n      childRef.current.mostarAlert(last_error);\r\n    }\r\n\r\n  }\r\n\r\n  const resetCampos = () => {\r\n    setModeloId(0);\r\n    setPatente('');\r\n    setValorPermiso(0);\r\n    setReajuste(0);\r\n    setMulta(0);\r\n    setSubtotal(0);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AlertComponent ref={childRef}></AlertComponent>\r\n      {\r\n        modalShow && (\r\n          <div>\r\n            <div className=\"py-12 bg-gray-700 opacity-20 transition duration-150 ease-in-out z-10 fixed top-0 right-0 bottom-0 left-0 overflow-hidden\"></div>\r\n            <div className=\"py-12 transition duration-150 ease-in-out z-10 fixed top-0 right-0 bottom-0 left-0 overflow-hidden\" id=\"modal\">\r\n              <div role=\"alert\" className=\"container mx-auto w-11/12 md:w-7/12 max-w-lg\">\r\n                <div className=\"relative py-8 px-5 md:px-10 bg-white shadow-md rounded border border-gray-400\">\r\n                  <div className=\"w-full flex items-center text-green-400 mb-3\">\r\n                    <h1 className=\"text-gray-800 font-lg font-bold tracking-normal leading-tight uppercase\">Crear nuevo registro de multa</h1>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center\" style={{ fontFamily: '\"Lato\", sans-serif' }}>\r\n\r\n\r\n                    <div className=\"flex flex-col py-8 px-4\">\r\n                      {/* Code block starts */}\r\n\r\n                      <div className=\"flex flex-col mb-2\">\r\n                        <select value={modeloId} onChange={handleChangeOption}>\r\n                          <option value=\"--\">Seleccione el modelo</option>\r\n                          {\r\n                            modelos.map(modelo => {\r\n                              return <option key={modelo.id} value={modelo.id}>{modelo.vehiculo}</option>\r\n                            })\r\n                          }\r\n                        </select>\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm font-extrabold leading-tight tracking-normal mb-\"></span>\r\n\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm leading-tight tracking-normal mb-3 mt-3\">Valor permiso: ${valorPermiso}</span>\r\n\r\n\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm leading-tight tracking-normal mb-1\">Patente: </span>\r\n                        <input value={patente} onChange={handlePatente} type=\"text\" className=\"text-gray-600 dark:text-gray-400 focus:outline-none focus:border focus:border-blue-700 dark:focus:border-blue-700 dark:border-gray-700 dark:bg-gray-800 bg-white font-normal w-64 h-10 flex items-center pl-3 text-sm border-gray-300 rounded border shadow\" placeholder=\"Ej.: xxxx00\" />\r\n\r\n\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm leading-tight tracking-normal mb-1 mt-3\">Intereses y reajustes: </span>\r\n                        <input value={reajuste} onBlur={actualizarSubTotal} onChange={handleReajuste} type=\"text\" className=\"text-gray-600 dark:text-gray-400 focus:outline-none focus:border focus:border-blue-700 dark:focus:border-blue-700 dark:border-gray-700 dark:bg-gray-800 bg-white font-normal w-64 h-10 flex items-center pl-3 text-sm border-gray-300 rounded border shadow\" placeholder=\"Ingrese el monto\" />\r\n\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm leading-tight tracking-normal mb-1 mt-3\">Multas impagas:</span>\r\n                        <input value={multa} onBlur={actualizarSubTotal} onChange={handleMulta} type=\"text\" className=\"text-gray-600 dark:text-gray-400 focus:outline-none focus:border focus:border-blue-700 dark:focus:border-blue-700 dark:border-gray-700 dark:bg-gray-800 bg-white font-normal w-64 h-10 flex items-center pl-3 text-sm border-gray-300 rounded border shadow\" placeholder=\"Ingrese el monto\" />\r\n                      </div>\r\n\r\n                      <div className=\"flex flex-col mt-2\">\r\n                        <span className=\"text-gray-800 dark:text-gray-100 text-sm font-bold leading-tight tracking-normal mb-2\">Subtotal: ${subtotal}</span>\r\n                      </div>\r\n\r\n                      {/* Code block ends */}\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n                  <div className=\"flex items-center w-full\">\r\n                    <button onClick={crearRegistro} className=\"focus:outline-none transition duration-150 ease-in-out hover:bg-blue-600 bg-blue-700 rounded text-white px-8 py-2 text-xs sm:text-sm\">Crear registro</button>\r\n                    <button className=\"focus:outline-none ml-3 bg-gray-100 transition duration-150 text-gray-600 ease-in-out hover:border-gray-400 hover:bg-gray-300 border rounded px-4 sm:px-8 py-2 text-xs sm:text-sm\" onClick={() => { setModalShow(false); resetCampos() }}>Cancelar</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n\r\n    </>\r\n  )\r\n})\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport {MultaModalComponent} from \"./MultaModalComponent\";\r\nimport Config from '../config';\r\nimport { MultaCreateModalComponent } from \"./MultaCreateModalComponent\";\r\n\r\nexport const MultaTableComponent = () => {\r\n\r\n  const tablaRef = useRef({ \r\n    recargar: () => {\r\n      getMultas()\r\n      console.log('deberia cargar')\r\n    } \r\n  });\r\n  const childRef = useRef(tablaRef);\r\n  const childRef2 = useRef(tablaRef);\r\n  const [multas, setMultas] = useState();\r\n  \r\n  \r\n  useEffect(() => {\r\n    getMultas();\r\n  }, [MultaModalComponent])\r\n\r\n  const getMultas = async () => {\r\n    const url = `${Config.server}/multas/`;\r\n    const resp = await fetch(url);\r\n    const { data } = await resp.json();\r\n    setMultas(data);\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <>\r\n      <MultaModalComponent recargarTabla={getMultas} ref={childRef}></MultaModalComponent>\r\n      <MultaCreateModalComponent recargarTabla={getMultas} ref={childRef2}></MultaCreateModalComponent>\r\n      \r\n      { multas && (\r\n        <div className=\"container mx-auto sm:px-8 max-w-6xl\">\r\n          <div className=\"py-8\">\r\n            <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4\">\r\n              <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n                <table className=\"min-w-full leading-normal shadow-md border-gray-500 max-h-1.5 animate-fadeIn\">\r\n                  <thead className=\"bg-gray-500 text-white\">\r\n                    <tr>\r\n                      <th scope=\"col\" className=\"px-5 py-3 w-auto border-b border-gray-200 text-sm whitespace-no-wrap uppercase text-center font-normal\">PATENTE</th>\r\n                      <th scope=\"col\" className=\"px-5 py-3 w-auto border-b border-gray-200 text-sm whitespace-no-wrap uppercase text-center font-normal\">VEHÍCULO</th>\r\n                      <th scope=\"col\" className=\"px-5 py-3 w-auto border-b border-gray-200 text-sm whitespace-no-wrap uppercase text-center font-normal\">VALOR PERMISO</th>\r\n                      <th scope=\"col\" className=\"px-5 py-3 w-auto border-b border-gray-200 text-sm whitespace-no-wrap uppercase text-center font-normal\">INTERESES Y REAJUSTES</th>\r\n                      <th scope=\"col\" className=\"px-5 py-3 w-auto border-b border-gray-200 text-sm whitespace-no-wrap uppercase text-center font-normal\">REGISTRO DE MULTAS IMPAGAS</th>\r\n                      <th scope=\"col\" className=\"px-5 py-3 w-auto border-b border-gray-200 text-sm whitespace-no-wrap uppercase text-center font-normal\">SUBTOTAL</th>\r\n                      <th scope=\"col\" className=\"px-5 py-3 w-auto border-b border-gray-200 text-sm whitespace-no-wrap uppercase text-center font-normal\">\r\n                      <button onClick={() => {childRef2.current.openModal()}} className=\"py-1 px-4 text-gray-600 hover:text-gray-100  bg-gray-100 hover:bg-gray-600  focus:ring-gray-500 focus:ring-offset-gray-200 w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2\">Nuevo</button>\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"h-3/5\">\r\n                    {\r\n                      multas.map(multa => {\r\n                        const bg = multa.registro_de_multas_impagas === 0 ? '' : 'bg-red-600 px-2 py-1 my-2 text-white rounded-md';\r\n                        return (\r\n                          <tr key={multa.id}>\r\n                            <td className=\"px-5 py-2 border-b w-auto border-gray-200 bg-gray-50 text-sm\">\r\n                              <p className=\"text-gray-900 whitespace-no-wrap font-bold\">{multa.patente}</p>\r\n                            </td>\r\n                            <td className=\"px-5 py-2 border-b w-auto border-gray-200 bg-gray-50 text-sm\">\r\n                              <p className=\"text-gray-900 whitespace-no-wrap text-xs\">{multa.vehiculo}</p>\r\n                            </td>\r\n                            <td className=\"px-5 py-2 border-b w-auto border-gray-200 bg-gray-50 text-sm text-right\">\r\n                              <p className=\"text-gray-900 whitespace-no-wrap\">${multa.valor_permiso}</p>\r\n                            </td>\r\n                            <td className=\"px-5 py-2 border-b w-auto border-gray-200 bg-gray-50 text-sm text-right\">\r\n                              <p className=\"text-gray-900 whitespace-no-wrap\">${multa.interes_y_reajuste}</p>\r\n                            </td>\r\n                            <td className=\"px-5 py-2 border-b w-auto border-gray-200 bg-gray-50 text-sm text-right\">\r\n\r\n                              <p className=\"text-gray-900\">\r\n                                <span className={bg}>\r\n                                  ${multa.registro_de_multas_impagas}\r\n                                </span>\r\n                              </p>\r\n                            </td>\r\n                            <td className=\"px-5 py-2 border-b w-auto border-gray-200 bg-gray-50 text-sm text-right\">\r\n                              <p className=\"text-gray-900 whitespace-no-wrap font-bold\">${multa.subtotal}</p>\r\n                            </td>\r\n\r\n                            <td className=\"px-5 py-2 border-b w-auto border-gray-200 bg-gray-50 text-sm text-right\">\r\n                              <button onClick={() => {childRef.current.openModal(multa)}} className=\"py-1 px-4 bg-gray-500 hover:bg-gray-600 focus:ring-gray-500 focus:ring-offset-gray-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2\">\r\n                                Acciones\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        )\r\n                      })\r\n                    }\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nconst BasicLayoutComponent = ({children}) => {\r\n    return (\r\n        <div>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BasicLayoutComponent\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { MultaTableComponent } from './components/MultaTableComponent';\r\n\r\nimport BasicLayoutComponent from './layout/BasicLayoutComponent';\r\n\r\nReactDOM.render(\r\n\r\n  <BasicLayoutComponent>\r\n    <MultaTableComponent></MultaTableComponent>\r\n  </BasicLayoutComponent>,\r\n  \r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}